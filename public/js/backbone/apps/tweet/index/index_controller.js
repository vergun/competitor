// Generated by CoffeeScript 1.6.3
(function() {
  this.Competitor.module("TweetApp.Index", function(Index, App, Backbone, Mariontte, $, _) {
    return Index.Controller = {
      showIndex: function() {
        var tweets,
          _this = this;
        tweets = App.request("get:index:tweets");
        this.layout = this.getIndexLayout();
        tweets.fetch().done(function() {
          return App.mainRegion.show(_this.layout);
        });
        return this.layout.on("show", function() {
          tweets = tweets.models[0];
          console.log(tweets);
          _this.showHeaderRegion(tweets);
          return _this.showMainRegion(tweets);
        });
      },
      /* layout*/

      getIndexLayout: function() {
        return new Index.Layout;
      },
      /* header*/

      showHeaderRegion: function(tweets) {
        var headerView;
        headerView = this.getHeaderView(tweets);
        return this.layout.headerRegion.show(headerView);
      },
      getHeaderView: function(tweets) {
        return new Index.Header({
          model: tweets
        });
      },
      /* tweets*/

      showMainRegion: function(tweets) {
        var mainView;
        mainView = this.getMainView(tweets);
        return this.layout.mainRegion.show(mainView);
      },
      getMainView: function(tweets) {
        return new Index.Tweet({
          model: tweets
        });
      }
    };
  });

}).call(this);
